<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.9.3"/>
    <!--    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>-->
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea" style="width: 100%">
        <table cellspacing="0" cellpadding="0" style="margin-bottom: 1em; width: 100%">
            <tbody>
            <tr>
                <td id="projectlogo"><img alt="Logo" src="wrench-logo.png"/></td>
                <td id="projectalign" style="padding-left: 0.5em; margin-bottom: 1em; min-width: 270px">
                    <div id="projectname">WRENCH
                        &#160;<span id="projectnumber">2.0-dev</span>
                    </div>
                    <div id="projectbrief">Cyberinfrastructure Simulation Workbench</div>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/2.0-dev/index.html">Overview</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/2.0-dev/install.html">Installation</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/2.0-dev/getting-started.html">Getting Started</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/2.0-dev/simulation-101.html">Simulation 101</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/2.0-dev/wrench-101.html">WRENCH 101</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/2.0-dev/wrench-102.html">WRENCH 102</a>
                </td>
                <td style="vertical-align: bottom">
                    <div class="dropdown">
                        <button class="dropbtn link">APIs Reference</button>
                        <div class="dropdown-content">
                            <a class="small dropdown-item link"
                               href="/wrench/2.0-dev/user/annotated.html">User</a>
                            <a class="small dropdown-item link"
                               href="/wrench/2.0-dev/developer/annotated.html">Developer</a>
                            <a class="small dropdown-item link"
                               href="/wrench/2.0-dev/internal/annotated.html">Internal</a>
                        </div>
                    </div>
                </td>
                <td style="float: right; min-width: 230px; padding-top: 1em">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
            </tr>
            </tbody>
        </table>
    </div>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">WRENCH 101 </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#wrench-101-simulator-10000ft">10,000-ft view of a WRENCH simulator</a></li>
<li class="level1"><a href="#wrench-101-simulator-1000ft">1,000-ft view of a WRENCH simulator</a></li>
<li class="level1"><a href="#wrench-101-simulator-services">Available services</a></li>
<li class="level1"><a href="#wrench-101-customizing-services">Customizing services</a></li>
<li class="level1"><a href="#wrench-101-logging">Customizing logging</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md__home_wrench_wrench_doc_wrench_101"></a></p>
<p >This page provides high-level and detailed information about what WRENCH simulators can simulate and how they do it. Full API details are provided in the <a href="./user/annotated.html">User API Reference</a>. See the relevant pages for instructions on how to <a class="el" href="install.html">install WRENCH</a> and how to <a class="el" href="getting-started.html">setup a simulator project</a>.</p>
<h1><a class="anchor" id="wrench-101-simulator-10000ft"></a>
10,000-ft view of a WRENCH simulator</h1>
<p >A WRENCH simulator can be as simple as a single <code>main()</code> function that creates a platform to be simulated (the hardware) and a set of services that run on the platform (the software). These services correspond to software that knows how to store data, perform computation, and many other useful things that real-world cyberinfrastructure services can do.</p>
<p >The simulator then creates a special (simulated) process called an <em>execution controller</em>. An execution controller interacts with the services running on the platform to execute some application workload of interest, whatever that workflow is. The execution controller is implemented using the <a href="./developer/annotated.html">WRENCH Developer API</a>, as discussed in the <a class="el" href="wrench-102.html">WRENCH 102</a> page.</p>
<p >The simulation is then launched via a single call (<code><a class="el" href="classwrench_1_1_simulation.html#ae9589632de9a2311ed1d7f7747478985" title="Launch the simulation.">wrench::Simulation::launch()</a></code>), and returns only once the execution controller has terminated (after completing or failing to complete whatever it wanted to accomplish). <br  />
</p>
<h1><a class="anchor" id="wrench-101-simulator-1000ft"></a>
1,000-ft view of a WRENCH simulator</h1>
<p >In this section, we dive deeper into what it takes to implement a WRENCH simulator. <em>To provide context, we refer to the example simulator in the</em> <code>examples/basic-examples/action_api/multi-action-multi-job</code> <em>directory of the WRENCH distribution</em>. This simulator simulates the execution of a few jobs, each of which consists of one or more actions, on a 4-host platform that runs a couple of compute services and storage services. Although other examples are available (see <code>examples/README.md</code>), this simple example is sufficient to showcase most of what a WRENCH simulator does, which consists in going through the steps below. Note that all simulator codes in the <code>examples</code> directory contain extensive comments.</p>
<h2><a class="anchor" id="wrench-101-simulator-1000ft-step-0"></a>
Step 0: Include wrench.h</h2>
<p >For ease of use, all WRENCH abstractions in the <a href="./user/annotated.html">WRENCH User API</a> are available through a single header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;wrench.h&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="wrench-101-simulator-1000ft-step-1"></a>
Step 1: Create and initialize a simulation</h2>
<p >The state of a WRENCH simulation is defined by the <code><a class="el" href="classwrench_1_1_simulation.html" title="A class that provides basic simulation methods. Once the simulation object has been explicitly or imp...">wrench::Simulation</a></code> class. A simulator must create an instance of this class by calling <code><a class="el" href="classwrench_1_1_simulation.html#a097bd998f4f43f8ce859ac864a463e07" title="Create a simulation.">wrench::Simulation::createSimulation()</a></code> and initialize it with the <code><a class="el" href="classwrench_1_1_simulation.html#a3c6d35f1f77f35cbc727ce31e5689992" title="Initialize the simulation, which parses out WRENCH-specific and SimGrid-specific command-line argumen...">wrench::Simulation::init()</a></code> member function. The <code>multi-action-multi-job</code> simulator does this as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> simulation = <a class="code hl_function" href="classwrench_1_1_simulation.html#a097bd998f4f43f8ce859ac864a463e07">wrench::Simulation::createSimulation</a>();</div>
<div class="line">    simulation-&gt;init(&amp;argc, argv);</div>
<div class="ttc" id="aclasswrench_1_1_simulation_html_a097bd998f4f43f8ce859ac864a463e07"><div class="ttname"><a href="classwrench_1_1_simulation.html#a097bd998f4f43f8ce859ac864a463e07">wrench::Simulation::createSimulation</a></div><div class="ttdeci">static std::shared_ptr&lt; Simulation &gt; createSimulation()</div><div class="ttdoc">Create a simulation.</div><div class="ttdef"><b>Definition:</b> Simulation.cpp:1546</div></div>
</div><!-- fragment --><p >Note that this member function takes in the command-line arguments passed to the main function of the simulator. This is so that it can parse WRENCH-specific and <a href="https://simgrid.org/doc/latest/Configuring_SimGrid.html">SimGrid-specific</a> command-line arguments. (Recall that WRENCH is based on <a href="https://simgrid.org">SimGrid</a>.) Two useful such arguments are <code>--wrench-help</code>, which displays a WRENCH help message, and <code>--help-simgrid</code>, which displays an extensive SimGrid help message. Another one is <code>--wrench-full-log</code>, which displays full simulation logs (see below for more details).</p>
<h2><a class="anchor" id="wrench-101-simulator-1000ft-step-2"></a>
Step 2: Instantiate a simulated platform</h2>
<p >This is done with the <code><a class="el" href="classwrench_1_1_simulation.html#ae22639abf6ede9f345b382f5ffe19b0e" title="Instantiate a simulated platform.">wrench::Simulation::instantiatePlatform()</a></code> method. There are two versions of this method. The <b>first version</b> takes as argument a <a href="https://simgrid.org/doc/latest/platform.html">SimGrid virtual platform description file</a>, we defines all the simulated hardware (compute hosts, clusters of hosts, storage resources, network links, routers, routes between hosts, etc.). The bare-metal-chain simulator comes with a platform description file, <code>examples/action_api/multi-action-multi-job/four_hosts.xml</code>, which we include here:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&#39;1.0&#39;</span>?&gt;</div>
<div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">platform</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;https://simgrid.org/simgrid.dtd&quot;</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">platform</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;4.1&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">zone</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;AS0&quot;</span> <span class="keyword">routing</span>=<span class="stringliteral">&quot;Full&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The host on which the Controller will run --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;UserHost&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;10Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The host on which the bare-metal compute service will run and also run jobs--&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;ComputeHost1&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;35Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;10&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;ram&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;16GB&quot;</span> /&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- Another host on which the bare-metal compute service will be able to run jobs --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;ComputeHost2&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;35Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;10&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;ram&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;16GB&quot;</span> /&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The host on which the first storage service will run --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;StorageHost1&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;10Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">disk</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;hard_drive&quot;</span> <span class="keyword">read_bw</span>=<span class="stringliteral">&quot;100MBps&quot;</span> <span class="keyword">write_bw</span>=<span class="stringliteral">&quot;100MBps&quot;</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;size&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;5000GiB&quot;</span>/&gt;</div>
<div class="line">                &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;mount&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;/&quot;</span>/&gt;</div>
<div class="line">            &lt;/<span class="keywordtype">disk</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The host on which the second storage service will run --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;StorageHost2&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;10Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">disk</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;hard_drive&quot;</span> <span class="keyword">read_bw</span>=<span class="stringliteral">&quot;200MBps&quot;</span> <span class="keyword">write_bw</span>=<span class="stringliteral">&quot;200MBps&quot;</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;size&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;5000GiB&quot;</span>/&gt;</div>
<div class="line">                &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;mount&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;/&quot;</span>/&gt;</div>
<div class="line">            &lt;/<span class="keywordtype">disk</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The host on which the cloud compute service will run --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;CloudHeadHost&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;10Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">disk</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;hard_drive&quot;</span> <span class="keyword">read_bw</span>=<span class="stringliteral">&quot;100MBps&quot;</span> <span class="keyword">write_bw</span>=<span class="stringliteral">&quot;100MBps&quot;</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;size&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;5000GiB&quot;</span>/&gt;</div>
<div class="line">                &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;mount&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;/scratch/&quot;</span>/&gt;</div>
<div class="line">            &lt;/<span class="keywordtype">disk</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The host on which the cloud compute service will start VMs --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">host</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;CloudHost&quot;</span> <span class="keyword">speed</span>=<span class="stringliteral">&quot;25Gf&quot;</span> <span class="keyword">core</span>=<span class="stringliteral">&quot;8&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">prop</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;ram&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;16GB&quot;</span> /&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">host</span>&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- A network link shared by EVERY ONE--&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">link</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span> <span class="keyword">bandwidth</span>=<span class="stringliteral">&quot;50MBps&quot;</span> <span class="keyword">latency</span>=<span class="stringliteral">&quot;1ms&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">&lt;!-- The same network link connects all hosts together --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;UserHost&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;ComputeHost1&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;UserHost&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;ComputeHost2&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;UserHost&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;StorageHost1&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;UserHost&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;StorageHost2&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;UserHost&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;CloudHeadHost&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;ComputeHost1&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;StorageHost1&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;ComputeHost2&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;StorageHost2&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;CloudHeadHost&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;CloudHost&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;StorageHost1&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;CloudHost&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">route</span> <span class="keyword">src</span>=<span class="stringliteral">&quot;StorageHost2&quot;</span> <span class="keyword">dst</span>=<span class="stringliteral">&quot;CloudHost&quot;</span>&gt; &lt;<span class="keywordtype">link_ctn</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;network_link&quot;</span>/&gt; &lt;/<span class="keywordtype">route</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;/<span class="keywordtype">zone</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">platform</span>&gt;</div>
</div><!-- fragment --><p >This file defines a platform with several hosts, each with some number of cores and a core speed. Some hosts have a disk attached to them, some declare a RAM capacity. The platform also declares a single network link with a particular latency and bandwidth, and routes between some of the hosts (over that one link). We refer the reader to platform description files in other examples in the <code>examples</code> directory and to the <a href="https://simgrid.org/doc/latest/platform.html">SimGrid documentation</a> for more information on how to create platform description files. There are many possibilities for defining complex platforms at will. The bare-metal-chain simulator takes the path to the platform description as its 1st (and only) command-line argument and thus instantiates the simulated platform as:</p>
<div class="fragment"><div class="line">simulation.instantiatePlatform(argv[1]);</div>
</div><!-- fragment --><p >The <b>second version</b> of the <code><a class="el" href="classwrench_1_1_simulation.html#ae22639abf6ede9f345b382f5ffe19b0e" title="Instantiate a simulated platform.">wrench::Simulation::instantiatePlatform()</a></code> method takes as input a function that creates the platform description programmatically using the <a href="https://simgrid.org/doc/latest/Platform_cpp.html">SimGrid platform description API</a>. The example in <code>examples/workflow_api/basic-examples/bare-metal-bag-of-tasks-programmatic-platform</code> shows how the XML platform description in <code>examples/workflow_api/basic-examples/bare-metal-bag-of-tasks/two_hosts.xml</code> can be implemented programmatically. (Note that this example passes a functor to <code><a class="el" href="classwrench_1_1_simulation.html#ae22639abf6ede9f345b382f5ffe19b0e" title="Instantiate a simulated platform.">wrench::Simulation::instantiatePlatform()</a></code> rather than a plain lambda.)</p>
<h2><a class="anchor" id="wrench-101-simulator-1000ft-step-3"></a>
Step 3: Instantiate services on the platform</h2>
<p >While the previous step defines the hardware platform, this step defines what software services run on that hardware. The <code><a class="el" href="classwrench_1_1_simulation.html#a7de0edba272756815cfdce099560e523" title="Method to add a service to the simulation.">wrench::Simulation::add()</a></code> member function is used to add services to the simulation. Each class of service is created with a particular constructor, which also specifies host(s) on which the service is to be started. Typical kinds of services include compute services, storage services, and file registry services (see <a class="el" href="wrench-101.html#wrench-101-simulator-services">below</a> for more details).</p>
<p >The bare-metal-chain simulator instantiates four services. The first one is a compute service:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> baremetal_service = simulation-&gt;add(<span class="keyword">new</span> <a class="code hl_class" href="classwrench_1_1_bare_metal_compute_service.html">wrench::BareMetalComputeService</a>(<span class="stringliteral">&quot;ComputeHost1&quot;</span>, {{<span class="stringliteral">&quot;ComputeHost1&quot;</span>}, {<span class="stringliteral">&quot;ComputeHost2&quot;</span>}}, <span class="stringliteral">&quot;&quot;</span>, {}, {}));</div>
<div class="ttc" id="aclasswrench_1_1_bare_metal_compute_service_html"><div class="ttname"><a href="classwrench_1_1_bare_metal_compute_service.html">wrench::BareMetalComputeService</a></div><div class="ttdoc">A compute service that manages a set of multi-core compute hosts and provides access to their resourc...</div><div class="ttdef"><b>Definition:</b> BareMetalComputeService.h:49</div></div>
</div><!-- fragment --><p >The <code><a class="el" href="classwrench_1_1_bare_metal_compute_service.html" title="A compute service that manages a set of multi-core compute hosts and provides access to their resourc...">wrench::BareMetalComputeService</a></code> class implements a simulation of a compute service that greedily runs jobs submitted to it. You can think of it as a compute server that simply fork-execs (possibly multi-threaded) processes upon request, only ensuring that physical RAM capacity is not exceeded. In this particular case, the compute service is started on host <code>ComputeHost1</code>. It has access to the compute resources of that same host as well as that of a second host <code>ComputeHost2</code> (2nd argument is a list of available compute hosts). The third argument corresponds to the path of some scratch storage, i.e., storage in which data can be stored temporarily while a job runs. In this case, the scratch storage specification is empty as host <code>ComputeHost1</code> has no disk attached to it. The last two arguments are <code>std::map</code> objects (in this case both empty), that are used to configure properties of the service (see details in <a class="el" href="wrench-101.html#wrench-101-customizing-services">this section below</a>).</p>
<p >The second service is a cloud compute service:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> cloud_service = simulation-&gt;add(<span class="keyword">new</span> <a class="code hl_class" href="classwrench_1_1_cloud_compute_service.html">wrench::CloudComputeService</a>(<span class="stringliteral">&quot;CloudHeadHost&quot;</span>, {<span class="stringliteral">&quot;CloudHost&quot;</span>}, <span class="stringliteral">&quot;/scratch/&quot;</span>, {}, {}));</div>
<div class="ttc" id="aclasswrench_1_1_cloud_compute_service_html"><div class="ttname"><a href="classwrench_1_1_cloud_compute_service.html">wrench::CloudComputeService</a></div><div class="ttdoc">A cloud-based compute service that manages a set of physical hosts and controls access to their resou...</div><div class="ttdef"><b>Definition:</b> CloudComputeService.h:36</div></div>
</div><!-- fragment --><p >The <code><a class="el" href="classwrench_1_1_cloud_compute_service.html" title="A cloud-based compute service that manages a set of physical hosts and controls access to their resou...">wrench::CloudComputeService</a></code> implements a simulation of a cloud platform on which virtual machine (VM) instances can be created, started, used, and shutdown. The service runs on host <code>CloudHeadHost</code> and has access to the compute resources on host <code>CloudHost</code>. Unlike the previous service, this service has scratch space, at path <code>/data</code> on the disk attached to host <code>CloudHost</code> (as seen in the XML platform description). Here again, the last two arguments are used to configure properties of the service.</p>
<p >The third service is a storage service:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> storage_service_1 = simulation-&gt;add(<span class="keyword">new</span> <a class="code hl_class" href="classwrench_1_1_simple_storage_service.html">wrench::SimpleStorageService</a>(<span class="stringliteral">&quot;StorageHost1&quot;</span>, {<span class="stringliteral">&quot;/&quot;</span>}, {{<a class="code hl_variable" href="classwrench_1_1_storage_service_property.html#a4a15fb8290bd904973c923a6e7d7ca39">wrench::SimpleStorageServiceProperty::BUFFER_SIZE</a>, <span class="stringliteral">&quot;50000000&quot;</span>}}, {}));</div>
<div class="ttc" id="aclasswrench_1_1_simple_storage_service_html"><div class="ttname"><a href="classwrench_1_1_simple_storage_service.html">wrench::SimpleStorageService</a></div><div class="ttdoc">A storage service that provides direct access to some storage resources (e.g., one or more disks)....</div><div class="ttdef"><b>Definition:</b> SimpleStorageService.h:44</div></div>
<div class="ttc" id="aclasswrench_1_1_storage_service_property_html_a4a15fb8290bd904973c923a6e7d7ca39"><div class="ttname"><a href="classwrench_1_1_storage_service_property.html#a4a15fb8290bd904973c923a6e7d7ca39">wrench::StorageServiceProperty::BUFFER_SIZE</a></div><div class="ttdeci">static const std::string BUFFER_SIZE</div><div class="ttdoc">Buffer size used when copying/communicating data:</div><div class="ttdef"><b>Definition:</b> StorageServiceProperty.h:31</div></div>
</div><!-- fragment --><p >The <code><a class="el" href="classwrench_1_1_simple_storage_service.html" title="A storage service that provides direct access to some storage resources (e.g., one or more disks)....">wrench::SimpleStorageService</a></code> class implements a simulation of a remotely-accessible storage service on which files can be stored, copied, deleted, read, and written. In this particular case, the storage service is started on host <code>StorageHost1</code>. It uses storage mounted at <code>/</code> on that host (which corresponds to the mount path of a disk, as seen in the XML platform description). The last two arguments, as for the compute services, are used to configure particular properties of the service. In this case, the service is configured to use a 50-MB buffer size to pipeline network and disk accesses (see details in <a class="el" href="wrench-101.html#wrench-101-customizing-services">this section below</a>).</p>
<p >The fourth service is a another storage service that runs on host <code>StorageHost2</code>.</p>
<h2><a class="anchor" id="wrench-101-simulator-1000ft-step-4"></a>
Step 4: Instantiate at least one Execution controller</h2>
<p >At leave on <em>execution controller</em> must be created and added to the simulation. This is a special service that is in charge of executing an application workload on the platform. It's implemented as a class that derives from <code><a class="el" href="classwrench_1_1_execution_controller.html" title="An abstraction of an execution controller, i.e., a running process that interacts with other services...">wrench::ExecutionController</a></code> and override its constructor as well as its <code>main()</code> method. This method is implementing using the <a href="./developer/annotated.html">WRENCH Developer API</a>.</p>
<p >The example in <code>examples/action_api/bare-metal-bag-of-actions</code> does this as follows: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> wms = simulation-&gt;add(<span class="keyword">new</span> wrench::TwoTasksAtATimeExecutionController(num_tasks, baremetal_service, storage_service, <span class="stringliteral">&quot;UserHost&quot;</span>));</div>
</div><!-- fragment --><p >This creates an execution controller and passes to its constructor a number of tasks to execute, the compute service to use, the storage service to use, and the host on which it is supposed to execute. Class <code>wrench::TwoTasksAtATimeExecutionController</code> is of course provided with the example. See the <a class="el" href="wrench-102.html">WRENCH 102</a> page for information on how to implement an execution controller.</p>
<p >One important question is how to specify an <em>application workload</em> and tell the execution controller to execute it. This is completely up to the developer, and in this example the execution controller is simply given a number of tasks and then creates files, file read actions, file write actions, and compute actions to be executed as part of various jobs (see the implementation of <code>wrench::TwoTasksAtATimeExecutionController</code>). All the examples in the <code>examples/action_api</code> directory do this in different ways. <em>However</em>, many users are interested in <b>workflow applications</b>, for this reason, WRENCH provides a <code><a class="el" href="classwrench_1_1_workflow.html" title="A workflow (to be executed by a WMS)">wrench::Workflow</a></code> class that has member functions to manually create tasks and files and add them to a workflow. The use of this class is shown in all the examples in directory <code>examples/workflow_api</code>. The <code><a class="el" href="classwrench_1_1_workflow.html" title="A workflow (to be executed by a WMS)">wrench::Workflow</a></code> class also provides member functions to import workflows from workflow description files in standard <a href="https://github.com/wfcommons/wfformat">JSON format</a>. Note that an execution controller that executes a workflow is often called a Workflow Management System (WMS). This is why many execution controllers in the examples in directory <code>examples/workflow_api</code> have WMS in their class names.</p>
<h2><a class="anchor" id="wrench-101-simulator-1000ft-step-5"></a>
Step 5: Launch the simulation</h2>
<p >This is the easiest step, and is done by simply calling <code><a class="el" href="classwrench_1_1_simulation.html#ae9589632de9a2311ed1d7f7747478985" title="Launch the simulation.">wrench::Simulation::launch()</a></code>:</p>
<div class="fragment"><div class="line">simulation.launch();</div>
</div><!-- fragment --><p >This call checks the simulation setup and blocks until the execution controller terminates.</p>
<h2><a class="anchor" id="wrench-101-simulator-1000ft-step-6"></a>
Step 6: Process simulation output</h2>
<p >The processing of simulation output is up to the user as different users are interested in different output. For instance, the examples in directory <code>examples/action_api</code> merely print some information to the terminal. But this information could be collected in data structures, output to files, etc. This said, WRENCH provides a <code><a class="el" href="classwrench_1_1_simulation.html#aff0338aa6831c6ac252cf0673fe68f44" title="Get the simulation output object.">wrench::Simulation::getOutput()</a></code> member function that returns an instance of class <code><a class="el" href="classwrench_1_1_simulation_output.html" title="A class that contains post-mortem simulation-generated data.">wrench::SimulationOutput</a></code>. Note that there are member functions to configure the type and amount of output generated (see the <code>wrench::SimulationOutput::enable*Timestamps()</code> member functions). <code><a class="el" href="classwrench_1_1_simulation_output.html" title="A class that contains post-mortem simulation-generated data.">wrench::SimulationOutput</a></code> has a templated <code><a class="el" href="classwrench_1_1_simulation_output.html#a33a32738f767f2415b44f7520cc58b73" title="Retrieve a copy of a simulation output trace once the simulation has completed.">wrench::SimulationOutput::getTrace()</a></code> member function to retrieve traces for various information types. This is exemplified in several of the example simulators in the <code>examples/workflow_api</code> directory. Note that many of the timestamp types have to do with the execution of workflow tasks, as defined using the <code><a class="el" href="classwrench_1_1_workflow.html" title="A workflow (to be executed by a WMS)">wrench::Workflow</a></code> class.</p>
<p >Another kind of output is (simulated) energy consumption. WRENCH leverages <a href="https://simgrid.org/doc/latest/Plugins.html#existing-plugins">SimGrid's energy plugin</a>, which provides accounting for computing time and dissipated energy in the simulated platform. SimGrid's energy plugin requires host <code>pstate</code> definitions (levels of performance, CPU frequency) in the <a href="https://simgrid.org/doc/latest/platform.html">XML platform description file</a>. The <code><a class="el" href="classwrench_1_1_simulation.html#a3cdd71513430193f62d51f16b0b024db" title="Obtains the current energy consumption of a host.">wrench::Simulation::getEnergyConsumed()</a></code> member function returns energy consumed by all hosts in the platform. <b>Important:</b> The energy plugin is NOT enabled by default in WRENCH simulations. To enable it, pass the <code>--wrench-energy-simulation</code> command line option to the simulator. See <code>examples/basic-examples/cloud-bag-of-tasks-energy</code> for an example simulator that makes use of this plugin (and an example platform description file that defines host power consumption profiles).</p>
<p >It is also possible to dump all simulation output to a JSON file. This is done with the <code>wrench::SimulationOutput::dump*JSON()</code> member functions. The documentation of each member function details the structure of the JSON output, in case you want to parse/process the JSON by hand. See the API documentation of the <code><a class="el" href="classwrench_1_1_simulation_output.html" title="A class that contains post-mortem simulation-generated data.">wrench::SimulationOutput</a></code> class for all details.</p>
<p >Alternatively, you can run the installed <code>wrench-dashboard</code> tool, which provides interactive visualization/inspection of the generated JSON simulation output. You can run the dashboard for the JSON output generated by the example simulators in <code>examples/workflow_api/basic-examples/bare-metal-bag-of-task</code> and <code>examples/workflow_api/basic-examples/cloud-bag-of-task</code>. These simulators produce a JSON file in <code>/tmp/wrench.json</code>. Simply run the command <code>wrench-dashboard</code>, which pops up a Web browser window in which you simply upload the <code>/tmp/wrench.json</code> file.</p>
<p >We find that most users end up doing their own, custom simulation output generation since they are the ones who know what they are interested in.</p>
<h1><a class="anchor" id="wrench-101-simulator-services"></a>
Available services</h1>
<p >Below is the list of services available to-date in WRENCH. Click on the corresponding links for more information on what these services are and on how to create them.</p>
<ul>
<li><b>Compute Services</b>: These are services that know how to compute workflow tasks:<ul>
<li>Bare-metal Servers</li>
<li>Cloud Platforms</li>
<li>Virtualized Cluster Platforms</li>
<li>Batch-scheduled Clusters</li>
<li>HTCondor</li>
</ul>
</li>
<li><b>Storage Services</b>: These are services that know how to store and give access to workflow files:<ul>
<li>Simple Storage Service</li>
</ul>
</li>
<li><b>File Registry Services</b>: These services, also known as <em>replica catalogs</em>, are simply databases of <code>&lt;filename, list of locations&gt;</code> key-values pairs of the storage services on which copies of files are available.<ul>
<li>File Registry Service</li>
</ul>
</li>
<li><b>Network Proximity Services</b>: These are services that monitor the network and maintain a database of host-to-host network distances:<ul>
<li>Network Proximity Service</li>
</ul>
</li>
<li><b>EnergyMeter Services</b>: These services are used to periodically measure host energy consumption and include these measurements in the simulation output <br  />
 (see this section).<ul>
<li>Energy Meter Service</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="wrench-101-customizing-services"></a>
Customizing services</h1>
<p >Each service is customizable by passing to its constructor a <em>property list</em>, i.e., a key-value map where each key is a property and each value is a string. Each service defines a property class. For instance, the <code><a class="el" href="classwrench_1_1_service.html" title="A service that can be added to the simulation and that can be used by a WMS when executing a workflow...">wrench::Service</a></code> class has an associated <code><a class="el" href="classwrench_1_1_service_property.html" title="Configurable properties for a Service.">wrench::ServiceProperty</a></code> class, the <code><a class="el" href="classwrench_1_1_compute_service.html" title="The compute service base class.">wrench::ComputeService</a></code> class has an associated <code><a class="el" href="classwrench_1_1_compute_service_property.html" title="Configurable properties for a ComputeService.">wrench::ComputeServiceProperty</a></code> class, and so on at all levels of the service class hierarchy.</p>
<p ><b>The API documentation for these property classes explains what each property means, what possible values are, and what default values are.</b> Other properties have more to do with what the service can or should do when in operation. For instance, the <code><a class="el" href="classwrench_1_1_batch_compute_service_property.html" title="Configurable properties for a BatchComputeService.">wrench::BatchComputeServiceProperty</a></code> class defines a <code><a class="el" href="classwrench_1_1_batch_compute_service_property.html#a4e88135150aea2df7f815f7d751f03c7" title="The batch_standard_and_pilot_jobs scheduling algorithm. Can be:">wrench::BatchComputeServiceProperty::BATCH_SCHEDULING_ALGORITHM</a></code> which specifies what scheduling algorithm a batch service should use for prioritizing jobs. All property classes inherit from the <code><a class="el" href="classwrench_1_1_service_property.html" title="Configurable properties for a Service.">wrench::ServiceProperty</a></code> class, and one can explore that hierarchy to discover all possible (and there are many) service customization opportunities.</p>
<p >Finally, each service exchanges messages on the network with other services (e.g., an execution controller sends a "do some work for me" messages to compute services). The size in bytes, or payload, of all messages can be customized similarly to the properties, i.e., by passing a key-value map to the service's constructor. For instance, the <code><a class="el" href="classwrench_1_1_service_message_payload.html" title="Configurable message payloads for a Service.">wrench::ServiceMessagePayload</a></code> class defines a <code><a class="el" href="classwrench_1_1_service_message_payload.html#a9efb4a6b2c8876e17a3f636ba5ac17f6" title="The number of bytes in the control message sent to the daemon to terminate it.">wrench::ServiceMessagePayload::STOP_DAEMON_MESSAGE_PAYLOAD</a></code> property which can be used to customize the size, in bytes, of the control message sent to the service daemon (that is the entry point to the service) to tell it to terminate. Each service class has a corresponding message payload class, and the API documentation for these message payload classes details all messages whose payload can be customized.</p>
<h1><a class="anchor" id="wrench-101-logging"></a>
Customizing logging</h1>
<p >When running a WRENCH simulator you may notice that there is no logging output. By default logging output is disabled, but it is often useful to enable it (remembering that it can slow down the simulation). WRENCH's logging system is a thin layer on top of SimGrid's logging system, and as such is controlled via command-line arguments.</p>
<p >The <code>bare-metal-chain</code> example simulator can be executed as follows in the <code>examples/action_api/bare-metal-bag-of-actions</code> subdirectory of the build directory (after typing <code>make examples</code> in the build directory):</p>
<div class="fragment"><div class="line">./wrench-example-bare-metal-bag-of-tasks 10 ./four_hosts.xml</div>
</div><!-- fragment --><p >The above generates almost no output to the terminal whatsoever. It is possible to enable some logging to the terminal. It turns out the execution controller class in that example (<code>TwoTasksAtATimeExecutionController.cpp</code>) defines a logging category named <code>custom_execution_controller</code> (see one of the first lines of <code>examples/action_api/bare-metal-bag-of-actions/TwoActionsAtATimeExecutionController.cpp</code>), which can be enabled as:</p>
<div class="fragment"><div class="line">./<a class="code hl_namespace" href="namespacewrench.html">wrench</a>-example-bare-metal-bag-of-tasks 10 ./four_hosts.xml --log=custom_execution_controller.threshold=info</div>
<div class="ttc" id="anamespacewrench_html"><div class="ttname"><a href="namespacewrench.html">wrench</a></div><div class="ttdef"><b>Definition:</b> Action.cpp:28</div></div>
</div><!-- fragment --><p >You will now see some (green) logging output that is generated by the execution controller implementation. It is typical to want to see these messages as the controller is the brain of the application workload execution.</p>
<p >One can disable the coloring of the logging output with the <code>--wrench-no-color</code> argument:</p>
<div class="fragment"><div class="line">./<a class="code hl_namespace" href="namespacewrench.html">wrench</a>-example-bare-metal-bag-of-tasks 10 ./four_hosts.xml --log=custom_execution_controller.threshold=info --<a class="code hl_namespace" href="namespacewrench.html">wrench</a>-no-color</div>
</div><!-- fragment --><p >Disabling color can be useful when redirecting the logging output to a file.</p>
<p >Enabling all logging is done with the argument <code>--wrench-full-log</code>:</p>
<div class="fragment"><div class="line">./<a class="code hl_namespace" href="namespacewrench.html">wrench</a>-example-bare-metal-bag-of-tasks 10 ./four_hosts.xml --<a class="code hl_namespace" href="namespacewrench.html">wrench</a>-full-log</div>
</div><!-- fragment --><p >The logging output now contains output produced by all the simulated running processed. More details on logging capabilities are displayed when passing the <code>--help-logs</code> command-line argument to your simulator. Log category names are attached to <code>*.cpp</code> files in the simulator code, the WRENCH code, and the SimGrid code. Using the <code>--help-log-categories</code> command-line argument shows the entire log category hierarchy (which is huge). <br  />
</p>
<p >See the <a href="https://simgrid.org/doc/latest/outcomes.html">Simgrid logging documentation</a> for all details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
    <div style="float: left; width: 40%; padding-left: 2em; padding-bottom: 4em !important;">
        <p style="font-size: 0.8em"><strong>&copy;2017-2021 WRENCH. All Rights Reserved.</strong><br/></p>
        <p style="padding-top: 1em">
            <a href="mailto:support@wrench-project.org" class="fa-stack fa-2x" style="font-size: 1.5em">
                <i class="fa fa-circle fa-stack-2x icon-background"></i>
                <i class="fa fa-envelope fa-stack-1x"></i>
            </a>
            <a href="https://twitter.com/wrenchproject" target="_blank" class="fa-stack fa-2x"
               style="font-size: 1.5em">
                <i class="fa fa-circle fa-stack-2x icon-background"></i>
                <i class="fab fa-twitter fa-stack-1x"></i>
            </a>
            <a href="https://github.com/wrench-project/wrench" target="_blank" class="fa-stack fa-2x"
               style="font-size: 1.5em">
                <i class="fa fa-circle fa-stack-2x icon-background"></i>
                <i class="fab fa-github fa-stack-1x"></i>
            </a>
        </p>
    </div>
    <div style="float: right; width: 40%; padding-right: 2em">
        <p style="font-size: 0.8em">
            WRENCH is funded by the National Science Foundation (NSF) under grants number <a
                href="https://nsf.gov/awardsearch/showAward?AWD_ID=2103489" target="_blank">2103489</a>,
            <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=2103508" target="_blank">2103508</a>,
            <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1923539" target="_blank">1923539</a>, and
            <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1923621" target="_blank">1923621</a>;
            and the National Center for Scientific Research (CNRS) under grant number PICS07239.
        </p>
        <p style="font-weight: normal; font-size: 0.7em; margin-top: 1em">
            Any opinions, findings, and conclusions or recommendations expressed in this material are those
            of the author(s) and do not necessarily reflect the views of the National Science Foundation.
        </p>
    </div>
</div>
<!-- add the button to toggle the theme -->
<script>
    $(document).ready(function () {
        toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
        toggleButton.title = "Toggle Light/Dark Mode"
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
</script>
<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
</html>
